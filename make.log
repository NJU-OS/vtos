SNOW subdirs core/arch/arm/kernel core/arch/arm/mm core/arch/arm/tee core/arch/arm/pta core/arch/arm/plat-vexpress core kernel
SNOW sm core
set -e; true '  CHK     out/arm/conf.mk'; cnf='CFG_ARM32_ta_arm32=y_nl_ CFG_ARM64_core=y_nl_ CFG_ARM64_ta_arm64=y_nl_ CFG_BOOT_SECONDARY_REQUEST=n_nl_ CFG_CORE_HEAP_SIZE=65536_nl_ CFG_CORE_SANITIZE_KADDRESS=n_nl_ CFG_CORE_SANITIZE_UNDEFINED=n_nl_ CFG_CORE_TZSRAM_EMUL_SIZE=368640_nl_ CFG_CRYPTO=y_nl_ CFG_CRYPTO_AES=y_nl_ CFG_CRYPTO_CBC=y_nl_ CFG_CRYPTO_CBC_MAC=y_nl_ CFG_CRYPTO_CCM=y_nl_ CFG_CRYPTO_CMAC=y_nl_ CFG_CRYPTO_CONCAT_KDF=y_nl_ CFG_CRYPTO_CTR=y_nl_ CFG_CRYPTO_CTS=y_nl_ CFG_CRYPTO_DES=y_nl_ CFG_CRYPTO_DH=y_nl_ CFG_CRYPTO_DSA=y_nl_ CFG_CRYPTO_ECB=y_nl_ CFG_CRYPTO_ECC=y_nl_ CFG_CRYPTO_GCM=y_nl_ CFG_CRYPTO_HKDF=y_nl_ CFG_CRYPTO_HMAC=y_nl_ CFG_CRYPTO_MD5=y_nl_ CFG_CRYPTO_PBKDF2=y_nl_ CFG_CRYPTO_RSA=y_nl_ CFG_CRYPTO_SHA1=y_nl_ CFG_CRYPTO_SHA224=y_nl_ CFG_CRYPTO_SHA256=y_nl_ CFG_CRYPTO_SHA384=y_nl_ CFG_CRYPTO_SHA512=y_nl_ CFG_CRYPTO_SIZE_OPTIMIZATION=y_nl_ CFG_CRYPTO_XTS=y_nl_ CFG_DT=n_nl_ CFG_DTB_MAX_SIZE=0x10000_nl_ CFG_GENERIC_BOOT=y_nl_ CFG_GIC=y_nl_ CFG_GP_SOCKETS=y_nl_ CFG_HWSUPP_MEM_PERM_PXN=y_nl_ CFG_KERN_LINKER_ARCH=aarch64_nl_ CFG_KERN_LINKER_FORMAT=elf64-littleaarch64_nl_ CFG_LIBUTILS_WITH_ISOC=y_nl_ CFG_LPAE_ADDR_SPACE_SIZE=(1ull << 32)_nl_ CFG_LTC_OPTEE_THREAD=y_nl_ CFG_MSG_LONG_PREFIX_THRESHOLD=3_nl_ CFG_NUM_THREADS=2_nl_ CFG_OPTEE_REVISION_MAJOR=2_nl_ CFG_OPTEE_REVISION_MINOR=4_nl_ CFG_PAGED_USER_TA=n_nl_ CFG_PL011=y_nl_ CFG_PM_STUBS=y_nl_ CFG_REE_FS=y_nl_ CFG_RPMB_FS=n_nl_ CFG_RPMB_FS_DEV_ID=0_nl_ CFG_RPMB_WRITE_KEY=n_nl_ CFG_SECURE_DATA_PATH=n_nl_ CFG_SECURE_TIME_SOURCE_CNTPCT=y_nl_ CFG_SMALL_PAGE_USER_TA=y_nl_ CFG_SQL_FS=n_nl_ CFG_TA_FLOAT_SUPPORT=y_nl_ CFG_TA_GPROF_SUPPORT=n_nl_ CFG_TEE_API_VERSION=GPD-1.1-dev_nl_ CFG_TEE_CORE_DEBUG=n_nl_ CFG_TEE_CORE_EMBED_INTERNAL_TESTS=y_nl_ CFG_TEE_CORE_LOG_LEVEL=3_nl_ CFG_TEE_CORE_MALLOC_DEBUG=n_nl_ CFG_TEE_CORE_TA_TRACE=y_nl_ CFG_TEE_CORE_USER_MEM_DEBUG=1_nl_ CFG_TEE_FW_IMPL_VERSION=FW_IMPL_UNDEF_nl_ CFG_TEE_FW_MANUFACTURER=FW_MAN_UNDEF_nl_ CFG_TEE_IMPL_DESCR=OPTEE_nl_ CFG_TEE_MANUFACTURER=LINARO_nl_ CFG_TEE_PANIC_DEBUG=y_nl_ CFG_TEE_TA_LOG_LEVEL=1_nl_ CFG_TEE_TA_MALLOC_DEBUG=n_nl_ CFG_ULIBS_GPROF=n_nl_ CFG_WITH_ARM_TRUSTED_FW=y_nl_ CFG_WITH_LPAE=y_nl_ CFG_WITH_PAGER=n_nl_ CFG_WITH_SOFTWARE_PRNG=y_nl_ CFG_WITH_STACK_CANARIES=y_nl_ CFG_WITH_STATS=y_nl_ CFG_WITH_USER_TA=y_nl_ CFG_WITH_VFP=y_nl_'; mkdir -p out/arm/; echo "# auto-generated TEE configuration file" >out/arm/conf.mk.tmp; echo "# TEE version 830e0aa-dev" >>out/arm/conf.mk.tmp; echo "ARCH=arm" >>out/arm/conf.mk.tmp; echo "PLATFORM=vexpress" >>out/arm/conf.mk.tmp; echo "PLATFORM_FLAVOR=fvp" >>out/arm/conf.mk.tmp; echo -n "${cnf}" | sed 's/_nl_ */\n/g' >>out/arm/conf.mk.tmp; 	if [ -r out/arm/conf.mk ] && cmp -s out/arm/conf.mk out/arm/conf.mk.tmp; then rm -f out/arm/conf.mk.tmp; else true '  UPD     out/arm/conf.mk'; mv out/arm/conf.mk.tmp out/arm/conf.mk; fi
set -e; true '  CHK     out/arm/include/generated/conf.h'; cnf='#define CFG_ARM32_ta_arm32 1_nl_ #define CFG_ARM64_core 1_nl_ #define CFG_ARM64_ta_arm64 1_nl_ /* CFG_BOOT_SECONDARY_REQUEST is not set */_nl_ #define CFG_CORE_HEAP_SIZE 65536_nl_ /* CFG_CORE_SANITIZE_KADDRESS is not set */_nl_ /* CFG_CORE_SANITIZE_UNDEFINED is not set */_nl_ #define CFG_CORE_TZSRAM_EMUL_SIZE 368640_nl_ #define CFG_CRYPTO 1_nl_ #define CFG_CRYPTO_AES 1_nl_ #define CFG_CRYPTO_CBC 1_nl_ #define CFG_CRYPTO_CBC_MAC 1_nl_ #define CFG_CRYPTO_CCM 1_nl_ #define CFG_CRYPTO_CMAC 1_nl_ #define CFG_CRYPTO_CONCAT_KDF 1_nl_ #define CFG_CRYPTO_CTR 1_nl_ #define CFG_CRYPTO_CTS 1_nl_ #define CFG_CRYPTO_DES 1_nl_ #define CFG_CRYPTO_DH 1_nl_ #define CFG_CRYPTO_DSA 1_nl_ #define CFG_CRYPTO_ECB 1_nl_ #define CFG_CRYPTO_ECC 1_nl_ #define CFG_CRYPTO_GCM 1_nl_ #define CFG_CRYPTO_HKDF 1_nl_ #define CFG_CRYPTO_HMAC 1_nl_ #define CFG_CRYPTO_MD5 1_nl_ #define CFG_CRYPTO_PBKDF2 1_nl_ #define CFG_CRYPTO_RSA 1_nl_ #define CFG_CRYPTO_SHA1 1_nl_ #define CFG_CRYPTO_SHA224 1_nl_ #define CFG_CRYPTO_SHA256 1_nl_ #define CFG_CRYPTO_SHA384 1_nl_ #define CFG_CRYPTO_SHA512 1_nl_ #define CFG_CRYPTO_SIZE_OPTIMIZATION 1_nl_ #define CFG_CRYPTO_XTS 1_nl_ /* CFG_DT is not set */_nl_ #define CFG_DTB_MAX_SIZE 0x10000_nl_ #define CFG_GENERIC_BOOT 1_nl_ #define CFG_GIC 1_nl_ #define CFG_GP_SOCKETS 1_nl_ #define CFG_HWSUPP_MEM_PERM_PXN 1_nl_ #define CFG_KERN_LINKER_ARCH aarch64_nl_ #define CFG_KERN_LINKER_FORMAT elf64-littleaarch64_nl_ #define CFG_LIBUTILS_WITH_ISOC 1_nl_ #define CFG_LPAE_ADDR_SPACE_SIZE (1ull << 32)_nl_ #define CFG_LTC_OPTEE_THREAD 1_nl_ #define CFG_MSG_LONG_PREFIX_THRESHOLD 3_nl_ #define CFG_NUM_THREADS 2_nl_ #define CFG_OPTEE_REVISION_MAJOR 2_nl_ #define CFG_OPTEE_REVISION_MINOR 4_nl_ /* CFG_PAGED_USER_TA is not set */_nl_ #define CFG_PL011 1_nl_ #define CFG_PM_STUBS 1_nl_ #define CFG_REE_FS 1_nl_ /* CFG_RPMB_FS is not set */_nl_ #define CFG_RPMB_FS_DEV_ID 0_nl_ /* CFG_RPMB_WRITE_KEY is not set */_nl_ /* CFG_SECURE_DATA_PATH is not set */_nl_ #define CFG_SECURE_TIME_SOURCE_CNTPCT 1_nl_ #define CFG_SMALL_PAGE_USER_TA 1_nl_ /* CFG_SQL_FS is not set */_nl_ #define CFG_TA_FLOAT_SUPPORT 1_nl_ /* CFG_TA_GPROF_SUPPORT is not set */_nl_ #define CFG_TEE_API_VERSION GPD-1.1-dev_nl_ /* CFG_TEE_CORE_DEBUG is not set */_nl_ #define CFG_TEE_CORE_EMBED_INTERNAL_TESTS 1_nl_ #define CFG_TEE_CORE_LOG_LEVEL 3_nl_ /* CFG_TEE_CORE_MALLOC_DEBUG is not set */_nl_ #define CFG_TEE_CORE_TA_TRACE 1_nl_ #define CFG_TEE_CORE_USER_MEM_DEBUG 1_nl_ #define CFG_TEE_FW_IMPL_VERSION FW_IMPL_UNDEF_nl_ #define CFG_TEE_FW_MANUFACTURER FW_MAN_UNDEF_nl_ #define CFG_TEE_IMPL_DESCR OPTEE_nl_ #define CFG_TEE_MANUFACTURER LINARO_nl_ #define CFG_TEE_PANIC_DEBUG 1_nl_ #define CFG_TEE_TA_LOG_LEVEL 1_nl_ /* CFG_TEE_TA_MALLOC_DEBUG is not set */_nl_ /* CFG_ULIBS_GPROF is not set */_nl_ #define CFG_WITH_ARM_TRUSTED_FW 1_nl_ #define CFG_WITH_LPAE 1_nl_ /* CFG_WITH_PAGER is not set */_nl_ #define CFG_WITH_SOFTWARE_PRNG 1_nl_ #define CFG_WITH_STACK_CANARIES 1_nl_ #define CFG_WITH_STATS 1_nl_ #define CFG_WITH_USER_TA 1_nl_ #define CFG_WITH_VFP 1_nl_ #define PLATFORM_FLAVOR fvp_nl_ #define PLATFORM_FLAVOR_fvp 1_nl_ #define PLATFORM_vexpress 1_nl_ #define _CFG_CRYPTO_WITH_ACIPHER 1_nl_ #define _CFG_CRYPTO_WITH_ASN1 1_nl_ #define _CFG_CRYPTO_WITH_AUTHENC 1_nl_ #define _CFG_CRYPTO_WITH_CBC 1_nl_ #define _CFG_CRYPTO_WITH_CIPHER 1_nl_ #define _CFG_CRYPTO_WITH_FORTUNA_PRNG 1_nl_ #define _CFG_CRYPTO_WITH_HASH 1_nl_ #define _CFG_CRYPTO_WITH_MAC 1_nl_'; guard="_`echo out/arm/include/generated/conf.h | tr -- -/. ___`_"; mkdir -p out/arm/include/generated/; echo "#ifndef ${guard}" >out/arm/include/generated/conf.h.tmp; echo "#define ${guard}" >>out/arm/include/generated/conf.h.tmp; echo -n "${cnf}" | sed 's/_nl_ */\n/g' >>out/arm/include/generated/conf.h.tmp; echo "#endif" >>out/arm/include/generated/conf.h.tmp; 	if [ -r out/arm/include/generated/conf.h ] && cmp -s out/arm/include/generated/conf.h out/arm/include/generated/conf.h.tmp; then rm -f out/arm/include/generated/conf.h.tmp; else true '  UPD     out/arm/include/generated/conf.h'; mv out/arm/include/generated/conf.h.tmp out/arm/include/generated/conf.h; fi
make -C /media/sdb8/project/vtos/../vtos/servers/test1 TA_CROSS_COMPILE="  /media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-" TA_DEV_KIT_DIR=/media/sdb8/project/vtos/../vtos/out/arm/export-ta_arm64
make[1]: Entering directory '/media/sdb8/project/vtos/servers/test1'
make -C ta CROSS_COMPILE="/media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-"
make[2]: Entering directory '/media/sdb8/project/vtos/servers/test1/ta'
make[2]: Nothing to be done for 'all'.
make[2]: Leaving directory '/media/sdb8/project/vtos/servers/test1/ta'
make[1]: Leaving directory '/media/sdb8/project/vtos/servers/test1'
make -C /media/sdb8/project/vtos/../vtos/servers/test2 TA_CROSS_COMPILE="  /media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-" TA_DEV_KIT_DIR=/media/sdb8/project/vtos/../vtos/out/arm/export-ta_arm64
make[1]: Entering directory '/media/sdb8/project/vtos/servers/test2'
make -C ta CROSS_COMPILE="/media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-"
make[2]: Entering directory '/media/sdb8/project/vtos/servers/test2/ta'
make[2]: Nothing to be done for 'all'.
make[2]: Leaving directory '/media/sdb8/project/vtos/servers/test2/ta'
make[1]: Leaving directory '/media/sdb8/project/vtos/servers/test2'
make -C /media/sdb8/project/vtos/../vtos/servers/shell TA_CROSS_COMPILE="  /media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-" TA_DEV_KIT_DIR=/media/sdb8/project/vtos/../vtos/out/arm/export-ta_arm64
make[1]: Entering directory '/media/sdb8/project/vtos/servers/shell'
make -C ta CROSS_COMPILE="/media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-"
make[2]: Entering directory '/media/sdb8/project/vtos/servers/shell/ta'
/media/sdb8/project/vtos/../toolchains/aarch64/bin/aarch64-linux-gnu-ld  -pie -T ./ta.lds -Map=./lsh.map --sort-section=alignment  ./main.o ./strtok.o ./user_ta_header.o  -L/media/sdb8/project/vtos/out/arm/export-ta_arm64/lib -lutee -lpng -lzlib -lutils -lmpa -lutee -lutils -o lsh.elf
./strtok.o: In function `strtok_r':
/media/sdb8/project/vtos/servers/shell/ta/strtok.c:28: undefined reference to `strspn'
/media/sdb8/project/vtos/servers/shell/ta/strtok.c:33: undefined reference to `strpbrk'
/media/sdb8/project/vtos/out/arm/export-ta_arm64/mk/link.mk:47: recipe for target 'lsh.elf' failed
make[2]: *** [lsh.elf] Error 1
make[2]: Leaving directory '/media/sdb8/project/vtos/servers/shell/ta'
Makefile:8: recipe for target 'all' failed
make[1]: *** [all] Error 2
make[1]: Leaving directory '/media/sdb8/project/vtos/servers/shell'
Makefile:46: recipe for target 'shell' failed
make: *** [shell] Error 2
